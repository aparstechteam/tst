import{r as c,u as w,c as f,o as r,a as i,b as e,w as x,v as q,F as h,d as b,t,e as d,f as D,n as g}from"./index.b5db02ab.js";const A="https://script.google.com/macros/s/AKfycbzG6xhovKEO343IigdktmL3IxHCRfdaqGbx1BPhNaTXC2FKwd3jgCDw335XGW5koUkn/exec?type=class_operations",U={class:"container py-10 mx-auto"},I=e("div",{class:"text-center"},[e("h1",{class:"text-2xl font-extrabold"}," Teacher & TA Management System ")],-1),S={class:"py-3"},M=D(" Select Teacher: "),R=e("option",{value:"",selected:""},"All",-1),B=["value"],L={class:"my-2 font-bold alert"},N={key:0,class:"p-2 m-2 border rounded-xl"},W={class:"space-y-4"},P={key:0,class:"p-2 m-2 border rounded-xl"},V={key:1,class:"p-2 m-2 border rounded-xl"},G={setup(E){const u=c([]),p=c([]),n=c({}),v=c([]),o=c({issues:!1,analytics:!1}),_=c(""),y=w(),m=f(()=>y.state.user);fetch(A).then(l=>l.json()).then(l=>{u.value=l.routines.filter(s=>s.date).sort((s,a)=>new Date(s.date.replace("Z",""))-new Date(a.date.replace("Z",""))),m.value.role!="tst"&&(u.value=u.value.filter(s=>s.teacher==m.name)),v.value=u.value,p.value=[...new Set(l.routines.map(s=>s.teacher))]});const T=()=>{u.value=v.value.filter(l=>l.teacher===_.value),n.value=u.value.reduce((l,s)=>(l.class_duration_minute+=s.class_duration_minute,l.avg_class_watch_time+=s.avg_class_watch_time,l.total_participants+=s.total_participants,l.total_users_rated+=s.total_users_rated,l.attendance+=s.attendance,l.watchtime+=s.watchtime,l.avg_class_rating+=s.avg_class_rating,l.unique_users_commented+=s.unique_users_commented,l.total_doubts+=s.total_doubts,l.unique_users_doubted+=s.unique_users_doubted,l),{class_duration_minute:0,avg_class_watch_time:0,total_participants:0,total_users_rated:0,attendance:0,watchtime:0,avg_class_rating:0,unique_users_commented:0,total_doubts:0,unique_users_doubted:0})};return(l,s)=>(r(),i("div",U,[I,e("div",S,[M,x(e("select",{class:"select select-bordered","onUpdate:modelValue":s[0]||(s[0]=a=>_.value=a),onChange:T},[R,(r(!0),i(h,null,b(p.value,a=>(r(),i("option",{key:a,value:a},t(a),9,B))),128))],544),[[q,_.value]])]),e("div",L," Total Class Taken: "+t(u.value.length),1),_.value?(r(),i("div",N,[e("p",null,"Total Class Duration (In Minutes): "+t(n.value.class_duration_minute),1),e("p",null,"Average Class Watchtime (In Minutes): "+t(n.value.avg_class_watch_time),1),e("p",null,"Total Participants (Live Class): "+t(n.value.total_participants),1),e("p",null,"Total Users Rated: "+t(n.value.total_users_rated),1),e("p",null,"Attendance (%): "+t(n.value.attendance),1),e("p",null,"Watchtime (%): "+t(n.value.watchtime),1),e("p",null,"Average Class Rating: "+t(n.value.avg_class_rating),1),e("p",null,"Unique Users Commented: "+t(n.value.unique_users_commented),1),e("p",null,"Total Doubts: "+t(n.value.total_doubts),1),e("p",null,"Unique Users Doubled: "+t(n.value.unique_users_doubted),1)])):d("",!0),e("div",W,[(r(!0),i(h,null,b(u.value,(a,k)=>(r(),i("div",{key:k,class:"p-3 space-y-3 border border-gray-100 rounded"},[e("p",null,"Date: "+t(new Date(a.date.replace("Z","")).toLocaleDateString()),1),e("p",null,"Class Time: "+t(a.class_time_start)+" - "+t(a.class_time_end),1),e("p",null,"Batch: "+t(a.batch),1),e("p",null,"Topic: "+t(a.topic),1),e("p",null,"SME: "+t(a.sme),1),e("p",null,"Teacher: "+t(a.teacher),1),e("p",null,"TA: "+t(a.ta),1),e("p",null,"Shooting Place: "+t(a.shotting_place),1),e("button",{class:g(["btn btn-block",o.value.issues?"btn-primary":""]),onClick:s[1]||(s[1]=C=>o.value.issues=!o.value.issues)},"Issues",2),o.value.issues?(r(),i("div",P,[e("p",null,"Tech Issues: "+t(a.tech_issues),1),e("p",null,"Network and other Issues: "+t(a.in_class_problem),1),e("p",null,"Teacher Remarks: "+t(a.teacher_remarks),1),e("p",null,"TA Remarks: "+t(a.ta_remarks),1)])):d("",!0),e("button",{class:g(["btn btn-block",o.value.analytics?"btn-primary":""]),onClick:s[2]||(s[2]=C=>o.value.analytics=!o.value.analytics)}," Analytics ",2),o.value.analytics?(r(),i("div",V,[e("p",null,"Total Class Duration (In Minutes): "+t(a.class_duration_minute),1),e("p",null,"Average Class Watchtime (In Minutes): "+t(a.avg_class_watch_time),1),e("p",null,"Total Participants (Live Class): "+t(a.total_participants),1),e("p",null,"Total Users Rated: "+t(a.total_users_rated),1),e("p",null,"Attendance (%): "+t(a.attendance),1),e("p",null,"Watchtime (%): "+t(a.watchtime),1),e("p",null,"Average Class Rating: "+t(a.avg_class_rating),1),e("p",null,"Unique Users Commented: "+t(a.unique_users_commented),1),e("p",null,"Total Doubts: "+t(a.total_doubts),1),e("p",null,"Unique Users Doubled: "+t(a.unique_users_doubted),1)])):d("",!0)]))),128))])]))}};export{G as default};
